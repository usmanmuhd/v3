<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Google Summer of Code 2019: Improve Article Recommendation Pipeline | Muhammad Usman</title>
  <meta name="description" content="I am currently a Software Engineer at Cisco.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Google Summer of Code 2019: Improve Article Recommendation Pipeline" />
<meta property="og:description" content="GSoC Project Proposal: Improve Article Recommendation Pipeline
Mentor: Bahodir Mansurov
Synopsis The project improved the article recommendation pipeline by solving the various issues in the article-recommender projects. The issues that were solved as a part of the project are:
 Remove duplicate Wikidata items from article recommendations Recommendation API translation endpoint stopped working Article recommendation API: replace WDQS with MW API morelike recommendation API: Bulk import data to MySQL in chunks  Links to code changes Merged:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://usmanmuhd.com/posts/gsoc-final/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-19T11:44:53&#43;05:30" />
<meta property="article:modified_time" content="2019-08-19T11:44:53&#43;05:30" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Google Summer of Code 2019: Improve Article Recommendation Pipeline"/>
<meta name="twitter:description" content="GSoC Project Proposal: Improve Article Recommendation Pipeline
Mentor: Bahodir Mansurov
Synopsis The project improved the article recommendation pipeline by solving the various issues in the article-recommender projects. The issues that were solved as a part of the project are:
 Remove duplicate Wikidata items from article recommendations Recommendation API translation endpoint stopped working Article recommendation API: replace WDQS with MW API morelike recommendation API: Bulk import data to MySQL in chunks  Links to code changes Merged:"/>

  
  
    
  
  
  <link rel="stylesheet" href="https://usmanmuhd.com/css/style-dark.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://usmanmuhd.com/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts/">Posts</a></li>
         
        <li><a href="/categories/">Categories</a></li>
         
        <li><a href="/tags/">Tags</a></li>
         
        <li><a href="/contact/">Contact Me</a></li>
         
        <li><a href="/resume.pdf">Resume</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://usmanmuhd.com/posts/gsoc-blog-7/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://usmanmuhd.com/contact/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&text=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&is_video=false&description=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline&body=Check out this article: https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&name=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline&description=GSoC%20Project%20Proposal%3a%20Improve%20Article%20Recommendation%20Pipeline%0aMentor%3a%20Bahodir%20Mansurov%0aSynopsis%20The%20project%20improved%20the%20article%20recommendation%20pipeline%20by%20solving%20the%20various%20issues%20in%20the%20article-recommender%20projects.%20The%20issues%20that%20were%20solved%20as%20a%20part%20of%20the%20project%20are%3a%0a%20Remove%20duplicate%20Wikidata%20items%20from%20article%20recommendations%20Recommendation%20API%20translation%20endpoint%20stopped%20working%20Article%20recommendation%20API%3a%20replace%20WDQS%20with%20MW%20API%20morelike%20recommendation%20API%3a%20Bulk%20import%20data%20to%20MySQL%20in%20chunks%20%20Links%20to%20code%20changes%20Merged%3a" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&t=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#synopsis">Synopsis</a></li>
        <li><a href="#links-to-code-changes">Links to code changes</a></li>
        <li><a href="#outcome">Outcome</a></li>
        <li><a href="#acknowledgement">Acknowledgement</a></li>
        <li><a href="#thoughts-about-the-project-and-more">Thoughts about the project and more..</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Google Summer of Code 2019: Improve Article Recommendation Pipeline
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2019-08-19 11:44:53 &#43;0530 IST" itemprop="datePublished">2019-08-19</time>
          
        </div>
        
        
        
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/categories/google-summer-of-code-2019">Google Summer of Code 2019</a>
            
        </div>
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/gsoc2019" rel="tag">gsoc2019</a>
            
             ,  
            <a class="tag-link" href="/tags/opensource" rel="tag">opensource</a>
            
        </div>
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <p><strong>GSoC Project Proposal:</strong> <a href="https://phabricator.wikimedia.org/T218971">Improve Article Recommendation Pipeline</a></p>
<p><strong>Mentor:</strong> <a href="https://phabricator.wikimedia.org/p/bmansurov/">Bahodir Mansurov</a></p>
<h3 id="synopsis">Synopsis</h3>
<p>The project improved the article recommendation pipeline by solving the various issues in the article-recommender projects.
The issues that were solved as a part of the project are:</p>
<ul>
<li><a href="https://phabricator.wikimedia.org/T216721">Remove duplicate Wikidata items from article recommendations</a></li>
<li><a href="https://phabricator.wikimedia.org/T215222">Recommendation API translation endpoint stopped working</a></li>
<li><a href="https://phabricator.wikimedia.org/T216750">Article recommendation API: replace WDQS with MW API</a></li>
<li><a href="https://phabricator.wikimedia.org/T211980"><em>morelike</em> recommendation API: Bulk import data to MySQL in chunks</a></li>
</ul>
<h3 id="links-to-code-changes">Links to code changes</h3>
<p><strong>Merged:</strong></p>
<ul>
<li><a href="https://gerrit.wikimedia.org/r/#/c/mediawiki/services/recommendation-api/+/512913/">Remove duplicate Wikidata items from article recommendations.</a></li>
<li><a href="https://gerrit.wikimedia.org/r/#/c/mediawiki/services/recommendation-api/+/516732/">Throw appropriate error when wmAPI returns internal server error.</a></li>
<li><a href="https://gerrit.wikimedia.org/r/#/c/mediawiki/services/recommendation-api/+/517078/">Splits the request to MediaWiki API and Wikidata query service in batches.</a></li>
<li><a href="https://gerrit.wikimedia.org/r/#/c/mediawiki/services/recommendation-api/+/523779/">Replace Wikidata Query Service with MediaWiki API</a></li>
<li><a href="https://gerrit.wikimedia.org/r/#/c/research/article-recommender/deploy/+/527571/">Bulk import data to MySQL in chunks</a></li>
</ul>
<h3 id="outcome">Outcome</h3>
<p>Each task in the project had a noticeable outcome.</p>
<p>The first task made sure that the data returned by the <code>morelike endpoint</code> did not have duplicate data.
This ensured that the data we got from a single call to the API contained more wikidata items than what was being returned previously.</p>
<p>The second task made sure that the <code>translation endpoint</code> does not fail intermittently without returning a proper error code.
This helps us with debugging when some error arises. It also made sure that the API does not fail due to an error with the Wikidata Query Service.</p>
<p>The third task replaced the internal call that was being made to Wikidata Query Service(WDQS) with a call to the MediaWiki API(MWAPI) when
the <code>translation endpoint</code> is called. This decreased the number of requests being made internally thereby decreasing the time required by the
<code>translation endpoint</code>. It also decreased the time required by replacing the slower WDQS with a faster MWAPI.</p>
<p>The fourth task made sure that the script used to import the data generated by Hadoop into the database does not block the CPU.
It improves the CPU efficiency of the shared machines and allows to run other CPU tasks as well without them getting blocked.</p>
<h3 id="acknowledgement">Acknowledgement</h3>
<p>I would like to thank my mentor, <a href="https://phabricator.wikimedia.org/p/bmansurov/">Bahodir Mansurov</a> for helping me throughout the program,
encouraging me with great feedback and guiding me towards project completion.</p>
<h3 id="thoughts-about-the-project-and-more">Thoughts about the project and more..</h3>
<p>This was the first time I was formally going to work on a &ldquo;real&rdquo; project. I have been contributing to open source since more than 2 years
but they have mostly been one off contributions. This was also the first time I was writing code for an organization as big as Wikimedia.
I was excited to work with the other developers. Everyone I interacted with from the Wikimedia team was helpful and more than willing to
go out of the way to help a beginner like me. It felt wonderful working along with my mentor and all the other people in the team. A big thank you to all
the fellow developers who helped me with the project and also to the Wikimedia Foundation and Google for providing me this wonderful opportunity.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts/">Posts</a></li>
         
          <li><a href="/categories/">Categories</a></li>
         
          <li><a href="/tags/">Tags</a></li>
         
          <li><a href="/contact/">Contact Me</a></li>
         
          <li><a href="/resume.pdf">Resume</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#synopsis">Synopsis</a></li>
        <li><a href="#links-to-code-changes">Links to code changes</a></li>
        <li><a href="#outcome">Outcome</a></li>
        <li><a href="#acknowledgement">Acknowledgement</a></li>
        <li><a href="#thoughts-about-the-project-and-more">Thoughts about the project and more..</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&text=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&is_video=false&description=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline&body=Check out this article: https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&title=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&name=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline&description=GSoC%20Project%20Proposal%3a%20Improve%20Article%20Recommendation%20Pipeline%0aMentor%3a%20Bahodir%20Mansurov%0aSynopsis%20The%20project%20improved%20the%20article%20recommendation%20pipeline%20by%20solving%20the%20various%20issues%20in%20the%20article-recommender%20projects.%20The%20issues%20that%20were%20solved%20as%20a%20part%20of%20the%20project%20are%3a%0a%20Remove%20duplicate%20Wikidata%20items%20from%20article%20recommendations%20Recommendation%20API%20translation%20endpoint%20stopped%20working%20Article%20recommendation%20API%3a%20replace%20WDQS%20with%20MW%20API%20morelike%20recommendation%20API%3a%20Bulk%20import%20data%20to%20MySQL%20in%20chunks%20%20Links%20to%20code%20changes%20Merged%3a" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fusmanmuhd.com%2fposts%2fgsoc-final%2f&t=Google%20Summer%20of%20Code%202019%3a%20Improve%20Article%20Recommendation%20Pipeline" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Muhammad Usman 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts/">Posts</a></li>
         
        <li><a href="/categories/">Categories</a></li>
         
        <li><a href="/tags/">Tags</a></li>
         
        <li><a href="/contact/">Contact Me</a></li>
         
        <li><a href="/resume.pdf">Resume</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
